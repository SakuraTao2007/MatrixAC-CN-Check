#######################################################
#     Matrix AntiCheat Check Setting - By Sakuratao   #
#              Only use in MatrixAC 5.2.1             #
#######################################################

# 「Matrix AntiCheat」的所有外挂检测项
killaura:
  # 是否启用？
  enable: true
  # 此为「Killaura」的检测模块调整(设置)
  modules:
    # Onehit 模块，包含许多子检测模块。如：onehit.13、onehit.11 等。
    # 检测玩家的 Killaura 与 杀戮行为。
    # (部分模块需要 Matrix Premium User 才生效。)
    onehit:
      # 是否启用此模块(与 Onehit 的子模块)？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      # 如：触发一次 Onehit 检测，如果「子模块不在 Config.yml 中自定义了 vl 值增加」，那么则增加 5vl 为每个「子模块」。 
      vl_weight: 5
      # 是否禁用「数据包顺序」检查？(包含一定的误报)。
      disable_packet_order_check: false
      # 是否禁用「刀刀命中」检查？(包含一定的误报)。
      disable_dead_hit_check: true
    # Autoclicker 模块，检测玩家的 CPS 与 连点器 行为。
    # (此检测关联「Block」与「Scaffold」检测，关闭此项检测可能会导致「Block」与「Scaffold」检测失效)
    autoclicker:
      # 设置最大的 CPS 指数。
      max_cps: 24
      # 是否启用对攻击「生物」时的检测？
      not_check_attacking_mobs: false
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weights:
        # 大于 max_cps 的设定值后增加的 vl。
        cps: 9
        # 当 delay(点击延迟) 太短时触发 vl 增加。
        delay: 4 
        # 当玩家长时间保持在同一个 CPS 值内，变化不大时增加 vl。
        cps_long: 8
        # 针对 1.9+ 版本的 CPS 特殊检测。
        v19plus: 6
    # Click 点击检测，检测玩家的 CPS 与 连点器 行为。
    # (需要 Matrix Premium User 才生效。)
    click:
      # 是否启用此模块？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 28
      sensitivity: 2
    # NPC 检测模块，检测玩家的 Killaura 行为。
    npc:
      # 是否启用此模块？(与 NPC Moduel 的子模块)
      en1able: true
      # 当玩家击打到 NPC 时所增加的 vl 值。
      # 可在 config.yml 内设置「子模块」所增加的 vl。。
      vl_weight: 7
      # 是否启用「异步运行」？这将减少服务器的运行负担。
      async: true
      # 是否让 NPC 的 ID 随机生成为服务器在线玩家的任意一个 ID ？
      # 这可以防止部分外挂的 Antibot 作弊。
      real_entity_id: true
      # 是否开启只能以「/matrix npc 时间(毫秒)」指令触发？
      # 关闭此项则由插件随机生成。
      only_command_trigger: true
      # 是否启用 NPC 的可见程度？
      visible: true
      # 是否启用 NPC 的 ID 为乱码随机形式？(不建议)。
      force_random_name: false
      # NPC 的检测时间设定。
      check_ticks:
        # 此项为插件默认生成才会生效。
        base: 100
        # 此项为当「玩家」攻击了「NPC」后所增加的时间。
        attack_add: 20
        # 此项为当「玩家」击中了「NPC」后所增加的时间。
        hit_bot_add: 50
      # NPC 的走位设定。「蛇皮走位」(bushi)
      movement:
        # 默认距离。(即距离玩家 3.18 格远)
        distance_base: 3.18
        # 随机距离大小。
        distance_random_size: 0.55
        # 当 NPC 受到攻击后的移动范围。
        # (前后左右的蛇皮走位)
        distance_attack_base: 3.4
        # 受攻击后是否垂直上移？
        move_up_after_attack: false
    # Matrix AntiCheat 的「机器学习」检测。
    machine_learning:
      # 是否启用「机器学习」检测？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 12
      # 选择需要关闭的学习项。
      disable_patterns: {}
      # 收集数据持续时间。
      collect_data_duration: 7000
      availability_threshold:
        hits: 3 
        clicks: 30  
        rotations: 90 
    # Noswing 检测模块，检测玩家的 Killaura 行为。
    noswing:
      # 是否启用？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 4
    # Critical 检测模块，检测玩家的 Killaura 行为。
    critical:
      # 是否启用？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 8
    # snap 检测模块，检测玩家的 Killaura 行为。
    # (需要 Matrix Premium User 才生效。)
    snap:
      # 是否启用？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 7
    # clickaimbot 检测模块，检测玩家的 Killaura 行为。
    # (需要 Matrix Premium User 才生效。)
    clickaimbot:
      # 是否启用？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 9
    # aimassist 检测模块，检测玩家的 Killaura 与 自动瞄准 行为。
    # (需要 Matrix Premium User 才生效。)
    aimassist:
      # 是否启用？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 15
    # aim 检测模块，检测玩家的 Killaura 与 自动瞄准 行为。
    # (需要 Matrix Premium User 才生效。)
    aim:
      # 是否启用？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 13
    # direction 检测模块，检测玩家的 Killaura 与 移动 行为。
    direction:
      # 是否启用？(此项不稳定)
      enable: false
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 3
    # smooth 检测模块，检测玩家的 Killaura 与 自动瞄准 行为。
    # (需要 Matrix Premium User 才生效。)
    smooth:
      # 是否启用？
      enable: true
      # 触发时所增加的 vl 指数。
      # 可在 config.yml 内设置「子模块」所增加的 vl。
      vl_weight: 15
    # 自定义检测项。
    # 触发指定的模块后增加的 vl。
    combine:
      test:
        time: 5000
        condition:
          - 'ka.one.11'
          - 'ka.smt'
        action: 5 

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix npc %player% 100'
    20: 'matrix notify %player% might be using combat hacks (KillAura)'
    35: 'matrix notify %player% is using combat hacks (KillAura) #2'
    45: 'matrix delay 12 matrix kick %player% KillAura'

## HitBox
# Description: This check prevents players from using HitBox, Angle, Reach hacks.
# Note: This check is strict ONLY when you attack other PLAYERS, but it's very loose
# when you attack non-player creatures. So, if you find that you can use HixBox
# hack on non-player creatures, it's very normal, don't report it.
hitbox:
  # Enable HitBox check?
  enable: true

  # Maximum reach distance (default: 3.1)
  max_reach: 3.1

  # How many moves should the Matrix trace back to the player? (default: 7)
  # You can set this higher to reduce false positives, but this will weaken HitBox detection
  # My suggestion is 3 to 10, please don't make it more than 10, because it is useless
  trace_back_length: 7

  # How much should Matrix ignore players with greater network latency?
  # When the player's network latency is greater than this value, some
  # HitBox checks will stop working to prevent false positives. You can
  # set this value to -1 to disable this feature. (default: 250)
  max_ping: 250

  # Whether Matrix should cancel the player's attack after detecting the player's cheating?
  # There are there choice:
  #  1. none   -  do nothing
  #  2. silent -  set damage to zero (Recommend)
  #  3. cancel -  cancel the attack
  cancel_way: silent

  # Violations needed to cancel illegal hits
  cancel_vl: 5

  # Violation weights
  vl_weights:
    miss_player_hitbox: 2
    reach_target_standing: 10
    reach_target_moving: 3
    reach_simple: 3

  # Should dynamic VL weight be enabled?
  # If enabled, the VL weight will be calculated based on the player's reach
  # For example, players get 1vl when using 3.2 reach, and 19vl when players use 5.0 reach
  # If this function is enabled, then "reach_target_standing" and "reach_target_moving" will no longer take effect
  # Note: dynamic VL = (current_reach - max_reach) * expander
  dynamic_vl:
    enable: true
    expander: 10
    min_vl: 3
    max_vl: 15

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to reach entity outside max reach distance (HitBox)'
    12: 'matrix npc %player% 120'
    15: 'matrix notify %player% tried to reach entity outside max reach distance (HitBox) #2'
    24: 'matrix kick %player% Reach/HitBox Hacks'

## Movement Speed Check
# This checks how fast a player moves, and prevents the player from moving too fast.
speed:
  # Enable this check?
  # Warning: Will also disable
  # flight detection.
  enable: true

  # Should Matrix ignore the unloaded chunks when checking? (default: true)
  ignore_unloaded_chunks: true

  # Speed prediction tolerance
  tolerance: 0.01

  # Violations needed to cancel illegal movements (-1 = never cancel)
  cancel_vl: 30

  # Enable sprint direction check?
  sprint_direction: true

  # Enable strafe check?
  strafe: true

  # Enable FastClimb/FastLadder check?
  fastclimb: true

  # Should Matrix check NoSlowDown cheat?
  check_noslow: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    55: 'matrix notify %player% tried to move faster than usual (Speed) #1'
    90: 'matrix notify %player% tried to move faster than usual (Speed) #2'
    220: 'matrix kick %player% Speed Hacks'

## Fly
# Prevents the player from using both vanilla and non-vanilla fly hacks.
fly:
  # Enable this check?
  # Warning: Speed check must also be enabled.
  enable: true

  # Violations needed to cancel illegal movements (-1 = never cancel)
  cancel_vl: 50

  # Fly ability check
  # It might be not compatible with some plugins, test it by yourself
  ability:
    enable: true
    vl_weight: 20

  # If the player is very close to the void, should Matrix teleport
  # it to the void after detecting that player is cheating? (default: true)
  # If you disable this, it might cause some NoFall / BugUp bypass, but
  # it's a nice option for skyblock server if you don't want your players
  # get teleport into the void
  setback_to_void: true

  # NoFall check
  nofall:
    # Should Matrix setback the player who use NoFall?
    setback: true

    # Force deal damage after setback?
    damage: true

  # Trident Boost violation level weight
  trident_boost_vl_weight: 20

  # Setback method (back/ground)
  # back: teleport the player to the last legit location
  # ground: teleport the player to the ground under the player
  setback: back

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    50: 'matrix notify %player% tried to fly (Fly) #1'
    100: 'matrix notify %player% tried to fly (Fly) #2'
    180: 'matrix kick %player% Fly Related Hacks'


## BadPackets
# Prevents player from sending too many movement packets or sending illegal packets
badpackets:
  # Enable this check?
  enable: true

  # Buffer Size (ticks)
  # The larger the value, the slower the detection, but the more stable
  # Don't set it lower than 10
  buffer_size: 20

  # Freeze time (millisecond, 1second=1000 millisecond)
  # The time to freeze player if they try to send too
  # many moving packets at the same time
  freeze_time: 500

  # How many extra packets can the player send?
  max_extra_packets: 15

  # Violation weight
  vl_weights:
    limit: 10
    timer: 10

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    100: 'matrix notify %player% is sending unusual packets to server (BadPackets) #1'
    150: 'matrix notify %player% is sending unusual packets to server (BadPackets) #2'
    240: 'matrix kick %player% Sending Unusual Packets'

## FastUse
# Check prevents player from eating or using an item too quickly.
fastuse:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal item use (-1 = never cancel)
  cancel_vl: 1

  # Violation weight
  vl_weight: 1

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    5: 'matrix notify %player% tried to use an item faster than usual (FastUse)'
    12: 'matrix kick %player% FastUse Hacks'

## FastBow
# Check prevents player from shooting a bow too quickly.
fastbow:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal bow use (-1 = never cancel)
  cancel_vl: 7

  # Violation Weight
  vl_weight: 1

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    5: 'matrix notify %player% is trying to shoot a bow too quickly (FastBow)'
    15: 'matrix kick %player% FastBow Hacks'

## FastHeal
# Check prevents player from regaining health too quickly.
fastheal:
  # Enable this check?
  enable: true

  # Violation Weight
  vl_weight: 2

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to regain health too quickly (FastHeal)'
    20: 'matrix kick %player% FastHeal Hacks'

## Block
# Check prevents the player from breaking, placing block quickly
block:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal breaking/placing of blocks (-1 = never cancel)
  cancel_vl: 5

  # Modules List
  # You can turn off some modules here
  modules:
    # It can detect player breaking block faster
    fastbreak:
      enable: true
      vl_weight: 4
    # It can detect player placing block faster
    fastplace:
      enable: true
      vl_weight: 1
      max_place_per_second: 9
    # It can detect player placing block without swing hand
    noswing:
      enable: true
      vl_weight: 1
    # detect player not send abort breaking packet
    abort:
      enable: true
      vl_weight: 0

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to place/break a block too quickly (FastPlace/FastBreak)'
    20: 'matrix kick %player% FastPlace/FastBreak Hacks'

## Scaffold check
# Check prevents player bridging blocks or towering up faster than normal speed
scaffold:
  # Enable this check
  enable: true

  # Cancel VL
  cancel_vl: 15

  # Modules
  modules:
    # It can detect player bridging faster
    place:
      enable: true
      vl_weight: 7

    # Preventing player bridge too fast
    delay:
      enable: true
      vl_weight: 5
      cancel_place: true
      min_delay: 6

    # Preventing player right clicker fast
    right_cps:
      enable: true
      vl_weight: 5

    # It can detect player towering up faster
    tower:
      enable: true
      vl_weight: 2

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to bridge blocks quickly (Scaffold)'
    15: 'matrix notify %player% tried to bridge blocks quickly (Scaffold) #2'
    24: 'matrix kick %player% Scaffold/Tower'

## Jesus
# Check prevents the player from moving too too quickly in liquids, or walking on liquid.
jesus:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal movements (-1 = never cancel)
  cancel_vl: 15

  # Should Matrix ignore whether player is in swimming?
  # This feature can prevent swimming status desync
  ignore_swim_pose: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    20: 'matrix notify %player% tried to move illegally in liquid (Jesus)'
    40: 'matrix notify %player% tried to move illegally in liquid (Jesus) #2'
    50: 'matrix kick %player% Jesus/WaterSpeed/WaterFly Hacks'

## Inventory
# Check prevents the player from using illegal inventory modifications such as Steal.
# Also prevents quick inventory movement hacks.
inventory:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal movements of items (-1 = never cancel)
  cancel_vl: 10

  # Enable ChestStealer check?
  # It can detect player taking items out of chest faster
  chest_stealer: true

  # Ignore items/inventory which has colorful name
  # This feature can prevent false positive when you
  # click some GUI such as the Bedwars Shop
  ignore_color: false

  # Disable InventoryMove check
  # If you don't need InventoryMove check, you can set this to 'true' to disable it
  # This option ONLY works for 1.12/1.13/+ server
  disable_invmove: false

  # Check AutoTotem cheat?
  auto_totem: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% moved items in inventory too quickly (ChestSteal)'
    20: 'matrix kick %player% ChestSteal/Inventory Hacks'

## Velocity
# Check prevents the player from using any type of anti-knockback hacks.
velocity:
  # Enable this check?
  enable: true

  # The time to wait for players to respond to velocity (ticks)
  # If the player does not respond to velocity after that
  # time, the player will be detected.
  wait_time: 20

  # Ignore lag player, this feature can ignore the player who
  # is lagging or changing resource pack.
  ignore_lag: true

  # The VL weight of velocity check modules (-1 = disable)
  modules:
    respond: 5
    analyser: 3
    vertical: 1

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to ignore server velocity (Velocity)'
    15: 'matrix notify %player% tried to ignore server velocity (Velocity) #2'
    20: 'matrix kick %player% Velocity/Anti-Knockback'

## Spam
# Check prevents a player from spamming messages in the servers chat.
chat:
  # Enable this check?
  enable: true

  # Minimum amount of time between messages (Seconds)
  min_time: 3

  # Violations needed to cancel sent messages (-1 = never cancel)
  cancel_vl: 3

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    4: 'matrix notify %player% is spamming the chat (ChatSpam)'
    10: 'matrix kick %player% Stop spamming the chat!'

## Interact
# Check prevents the player from illegally interacting with entities and blocks.
interact:
  # Enable this check?
  enable: true

  # Modules List
  modules:
    # It can detect player breaking blocks through walls
    break_block:
      enable: true
      vl_weight: 1
    # It can detect player attacking other entities through walls
    attack:
      enable: true
      vl_weight: 1
    # It can detect player interacting blocks too far away
    block_reach:
      enable: true
      vl_weight: 1

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to illegally interact with Entity/Block (Interact)'
    15: 'matrix kick %player% Illegally Interacting with Block/Entity'

## AutoFish
# Check prevents the player from using an Auto-Fishing mod or hack.
autofish:
  # Enable this check?
  enable: true

  # Violations needed to cancel auto fishing (-1 = never cancel)
  cancel_vl: 5

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    6: 'matrix notify %player% is using auto fish (AutoFish)'
    14: 'matrix kick %player% No Auto Fishing!'

## Phase
# Check prevents the player people glitching through blocks.
phase:
  # Enable this check?
  enable: true

  # How much time should Matrix prevent the player from moving if
  # the player frequently tries to move the block? (milliseconds)
  freeze_time: 400

  # Violations needed to cancel illegal movements
  cancel_vl: 5

  # Should Matrix prevent players from using Ender Pearl for close range teleportation?
  prevent_close_range_enderpearl: true

  # Exlude block types
  exclude_types: []

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    7: 'matrix notify %player% is phase into block (Phase)'
    13: 'matrix notify %player% is phase into block (Phase) #2'

## AutoBot
# Check prevents player use some Bot mods like Baritone
# NOTE: THIS CHECK IS ONLY WORK FOR PREMIUM USERS
autobot:
  # Enable this check?
  enable: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    5: 'matrix notify %player% suspected use of automatic robots (AutoBot)'
    10: 'matrix notify %player% suspected use of automatic robots (AutoBot) #2'
    15: 'matrix kick %player% Auto-Bot'

## Elytra
# Checks prevents player using Elytra+, ElytraFlight, etc
# Only works for 1.9+
elytra:
  # Enable this check?
  enable: true

  # Should Matrix be forced to pull back players who are particularly
  # cheating? Even if they do not reach cancel_vl (default: true)
  force_setback: true

  # Setback violation level (-1 = never setback)
  setback_vl: 5

  # unequip elytra VL
  # If player reached this VL, Matrix will make it out of the gliding state (-1 = disable this feature)
  unequip_vl: 20

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% suspected using elytra flight (Elytra)'
    20: 'matrix notify %player% suspected using elytra flight (Elytra) #2'
    40: 'matrix kick %player% Elytra Flight'

## Vehicle
# Checks prevents player using VehicleFlight, VehicleSpeed, EntitySpeed..
# Only works for 1.9+
vehicle:
  # Enable this check?
  enable: true

  # Prevent players from using certain creatures as vehicles
  # All entity types: https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/EntityType.html
  deny_entity_types_as_vehicle:
    - 'LLAMA'

  # Vehicle Speed/ Entity Speed
  speed:
    # Enable this modules?
    enable: true

    # setback VL (-1 = disable setback)
    setback_vl: 2

  # Vehicle Flight / Boat Flight
  flight:
    # Enable this modules?
    enable: true

    # setback vl (-1 = never setback)
    setback_vl: 4

    # leave vehicle vl (-1 = never leave vehicle)
    leave_vehicle: 10

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    5: 'matrix notify %player% suspected using vehicle cheat (Vehicle)'
    10: 'matrix notify %player% suspected using vehicle cheat (Vehicle) #2'
    17: 'matrix kick %player% Suspicious vehicle movement'
